{"version":3,"sources":["mapsapi.js"],"names":["GoogleMap","evt","preventDefault","placeName","document","querySelector","value","placeRequest","location","map","getCenter","radius","query","service","google","maps","places","PlacesService","textSearch","handlePlaceResults","console","log","results","status","PlacesServiceStatus","OK","resCenter","lat","geometry","viewport","Ua","i","lng","La","mapOptions","center","zoom","Map","getElementById","rm","resName","name","resLat","resLng","marker","Marker","position","title","label","draggable","infoWindowContent","infoWindow","InfoWindow","content","addListener","open","length","init","form","addEventListener","handlePlaceSearch","circusCenter","window","gMap"],"mappings":"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","sourcesContent":["class GoogleMap {\r\n\r\n    API_KEY = 'AIzaSyA3tRPWowcO3i2l6jwjEWdUg1wRaEShj1A'\r\n\r\n    constructor () {\r\n\r\n        this.init()\r\n    }\r\n\r\n    init () {\r\n        console.log('googleMap init')\r\n\r\n        const form = document.querySelector('form[name=\"place_search\"]')\r\n        form.addEventListener('submit', this.handlePlaceSearch)\r\n    }\r\n\r\n    handlePlaceSearch = (evt) => {\r\n        evt.preventDefault()\r\n        var placeName = document.querySelector('#place').value\r\n\r\n        var placeRequest = {\r\n            location: this.map.getCenter(),\r\n            radius: 50, // this is in meters or miles??\r\n            query: placeName\r\n        }\r\n\r\n        this.service = new google.maps.places.PlacesService(this.map)\r\n        this.service.textSearch(placeRequest, this.handlePlaceResults)\r\n\r\n        console.log('searching places')\r\n    }\r\n\r\n    handlePlaceResults = (results, status) => {\r\n        if (status == google.maps.places.PlacesServiceStatus.OK){\r\n            console.log('got results', results)\r\n            var resCenter = {lat: results[0].geometry.viewport.Ua.i , lng: results[0].geometry.viewport.La.i }\r\n\r\n            var mapOptions = {\r\n                center: resCenter,\r\n                zoom:13\r\n            }\r\n            this.map = new google.maps.Map(document.getElementById('map'), mapOptions)\r\n\r\n            for (let rm = 0; rm < results.length; rm++) {\r\n                var resName = results[rm].name\r\n                var resLat = results[rm].geometry.viewport.Ua.i\r\n                var resLng = results[rm].geometry.viewport.La.i\r\n\r\n                console.log(resName, resLat, resLng)\r\n\r\n\r\n                var marker = new google.maps.Marker({\r\n                    position: {lat: resLat, lng: resLng },\r\n                    map: this.map,\r\n                    title: resName,\r\n                    label: resName,\r\n                    draggable: false\r\n                })\r\n        \r\n                const infoWindowContent = \"<div><h2>Hi Circus</h2><p>I'm at lambert drive</p></div>\"\r\n                const infoWindow = new google.maps.InfoWindow({\r\n                    content: infoWindowContent\r\n                })\r\n        \r\n                marker.addListener('click', () => {\r\n                    infoWindow.open(this.map, marker)\r\n                })\r\n            }\r\n        } else {\r\n            console.log('error: ')\r\n        }\r\n    }\r\n\r\n    ready() {\r\n        console.log('GoogleMap is ready')\r\n\r\n        const circusCenter = { lat: 33.812328, lng: -84.36175 }\r\n        const mapOptions = {\r\n            center: circusCenter,\r\n            zoom: 18\r\n        }\r\n\r\n        this.map = new google.maps.Map(document.getElementById('map'), mapOptions)\r\n\r\n        const marker = new google.maps.Marker({\r\n            position: circusCenter,\r\n            map: this.map,\r\n            title: 'The Circus',\r\n            // label: 'the Creative Circus',\r\n            // draggable: false\r\n        })\r\n\r\n        const infoWindowContent = \"<div><h2>Hi Circus</h2><p>I'm at lambert drive</p></div>\"\r\n        const infoWindow = new google.maps.InfoWindow({\r\n            content: infoWindowContent\r\n        })\r\n\r\n        marker.addListener('click', () => {\r\n            infoWindow.open(this.map, marker)\r\n        })\r\n\r\n    }\r\n\r\n    \r\n}\r\n\r\nwindow.gMap = new GoogleMap()\r\n"],"file":"mapsapi.js"}